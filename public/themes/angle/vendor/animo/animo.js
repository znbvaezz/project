!function(r,h,t,e){function s(t,e,i,s){var n={duration:1,animation:null,iterate:1,delay:0,timing:"linear",keep:!1};this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.element=r(t),this.bare=t,this.queue=[],this.listening=!1;var o="function"==typeof i?i:s;switch(e){case"blur":n={amount:3,duration:.5,focusAfter:null},this.options=r.extend(n,i),this._blur(o);break;case"focus":this._focus();break;case"rotate":n={degrees:15,duration:.5},this.options=r.extend(n,i),this._rotate(o);break;case"cleanse":this.cleanse();break;default:this.options=r.extend(n,e),this.init(o)}}s.prototype={init:function(t){var e=this;"[object Array]"===Object.prototype.toString.call(e.options.animation)?r.merge(e.queue,e.options.animation):e.queue.push(e.options.animation),e.cleanse(),e.animate(t)},animate:function(t){this.element.addClass("animated"),this.element.addClass(this.queue[0]),this.element.data("animo",this.queue[0]);for(var e=this.prefixes.length;e--;)this.element.css(this.prefixes[e]+"animation-duration",this.options.duration+"s"),this.element.css(this.prefixes[e]+"animation-delay",this.options.delay+"s"),this.element.css(this.prefixes[e]+"animation-iteration-count",this.options.iterate),this.element.css(this.prefixes[e]+"animation-timing-function",this.options.timing);var i=this,s=t;1<i.queue.length&&(s=null),this._end("AnimationEnd",function(){i.element.hasClass(i.queue[0])&&(i.options.keep||i.cleanse(),i.queue.shift(),i.queue.length&&i.animate(t))},s)},cleanse:function(){this.element.removeClass("animated"),this.element.removeClass(this.queue[0]),this.element.removeClass(this.element.data("animo"));for(var t=this.prefixes.length;t--;)this.element.css(this.prefixes[t]+"animation-duration",""),this.element.css(this.prefixes[t]+"animation-delay",""),this.element.css(this.prefixes[t]+"animation-iteration-count",""),this.element.css(this.prefixes[t]+"animation-timing-function",""),this.element.css(this.prefixes[t]+"transition",""),this.element.css(this.prefixes[t]+"transform",""),this.element.css(this.prefixes[t]+"filter","")},_blur:function(t){if(this.element.is("img")){var e="svg_"+(16777216*(1+Math.random())|0).toString(16).substring(1),i="filter_"+(16777216*(1+Math.random())|0).toString(16).substring(1);r("body").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" id="'+e+'" style="height:0;position:absolute;top:-1000px;"><filter id="'+i+'"><feGaussianBlur stdDeviation="'+this.options.amount+'" /></filter></svg>');for(var s=this.prefixes.length;s--;)this.element.css(this.prefixes[s]+"filter","blur("+this.options.amount+"px)"),this.element.css(this.prefixes[s]+"transition",this.options.duration+"s all linear");this.element.css("filter","url(#"+i+")"),this.element.data("svgid",e)}else{var n=this.element.css("color");for(s=this.prefixes.length;s--;)this.element.css(this.prefixes[s]+"transition","all "+this.options.duration+"s linear");this.element.css("text-shadow","0 0 "+this.options.amount+"px "+n),this.element.css("color","transparent")}this._end("TransitionEnd",null,t);var o=this;if(this.options.focusAfter)var a=h.setTimeout(function(){o._focus(),a=h.clearTimeout(a)},1e3*this.options.focusAfter)},_focus:function(){var t=this.prefixes.length;if(this.element.is("img")){for(;t--;)this.element.css(this.prefixes[t]+"filter",""),this.element.css(this.prefixes[t]+"transition","");r("#"+this.element.data("svgid")).remove()}else{for(;t--;)this.element.css(this.prefixes[t]+"transition","");this.element.css("text-shadow",""),this.element.css("color","")}},_rotate:function(t){for(var e=this.prefixes.length;e--;)this.element.css(this.prefixes[e]+"transition","all "+this.options.duration+"s linear"),this.element.css(this.prefixes[e]+"transform","rotate("+this.options.degrees+"deg)");this._end("TransitionEnd",null,t)},_end:function(t,e,i){var s=this,n=t.toLowerCase()+" webkit"+t+" o"+t+" MS"+t;this.element.bind(n,function(){s.element.unbind(n),"function"==typeof e&&e(),"function"==typeof i&&i(s)})}},r.fn.animo=function(t,e,i){return this.each(function(){new s(this,t,e,i)})}}(jQuery,window,document);